---
title: "프론트엔드에서의 캐시(Cache) 전략과 활용 방법"
date: "2024-08-26"
slug: "front-end-cache"
---

# 프론트엔드에서의 캐시(Cache) 전략과 활용 방법

## 목차
1. [캐시란 무엇인가?](#캐시란-무엇인가)
2. [캐시의 작동 원리](#캐시의-작동-원리)
3. [프론트엔드에서의 캐시 전략](#프론트엔드에서의-캐시-전략)
   - [1. 브라우저 캐시](#1-브라우저-캐시)
   - [2. 서비스 워커(Service Worker) 캐시](#2-서비스-워커service-worker-캐시)
   - [3. HTTP 캐시 제어 헤더](#3-http-캐시-제어-헤더)
4. [캐시 무효화(Cache Invalidation)](#캐시-무효화cache-invalidation)
5. [실전 캐시 활용 팁](#실전-캐시-활용-팁)
6. [결론](#결론)

## 캐시란 무엇인가?
캐시는 데이터를 임시로 저장하여 향후 요청 시 더 빠르게 응답할 수 있도록 하는 저장소입니다. 프론트엔드 개발에서 캐시는 페이지 로드 시간을 줄이고 네트워크 요청 수를 감소시켜 사용자 경험을 향상시키는 중요한 역할을 합니다.

## 캐시의 작동 원리
캐시의 기본 작동 원리는 자주 사용되는 데이터를 임시 저장소에 보관하고, 필요할 때마다 저장소에서 가져오는 것입니다. 이를 통해 네트워크 요청의 빈도를 줄이고, 서버 부하를 낮추며, 페이지 로딩 속도를 향상시킬 수 있습니다.

## 프론트엔드에서의 캐시 전략

### 1. 브라우저 캐시
브라우저 캐시는 사용자가 웹페이지를 다시 방문할 때 이전에 다운로드한 리소스를 재사용할 수 있도록 합니다. 브라우저 캐시는 기본적으로 HTTP 캐시 제어 헤더에 의해 제어됩니다.

- **ETag**: 파일의 고유 식별자를 사용하여 파일이 변경되었는지 확인합니다.
- **Cache-Control**: `no-cache`, `no-store`, `must-revalidate` 등의 디렉티브를 사용하여 브라우저 캐싱 동작을 제어합니다.
- **Expires**: 특정 날짜 이후에 캐시가 만료되도록 설정합니다.

### 2. 서비스 워커(Service Worker) 캐시
서비스 워커는 브라우저와 서버 사이에 위치하여 네트워크 요청을 가로채고, 캐시된 리소스를 제공하거나 네트워크를 통해 데이터를 요청할 수 있습니다. 이를 통해 오프라인 상태에서도 웹 애플리케이션이 동작하도록 할 수 있습니다.

- **Cache API**: 서비스 워커는 `Cache API`를 사용하여 리소스를 캐시에 저장하고 관리할 수 있습니다.
- **Pre-caching**: 초기 로딩 시 필수 리소스를 미리 캐시에 저장하여, 오프라인에서 빠른 로딩을 가능하게 합니다.
- **Runtime caching**: 사용자가 페이지를 탐색할 때 리소스를 캐시에 저장하여 이후 요청 시 더 빠르게 응답할 수 있도록 합니다.

### 3. HTTP 캐시 제어 헤더
HTTP 캐시 제어 헤더는 서버 응답에 추가되어 브라우저가 리소스를 캐시할 방법을 결정하게 합니다.

- **Cache-Control**: 브라우저와 프록시가 응답을 캐시하는 방법을 지정합니다.
  - `public`: 모든 캐시가 응답을 저장할 수 있음
  - `private`: 사용자 전용 캐시만 응답을 저장
  - `max-age`: 캐시의 유효 기간을 초 단위로 지정
  - `no-cache`: 캐시된 응답을 사용하기 전에 서버에 검증 요청을 보냄
  - `no-store`: 응답을 캐시에 저장하지 않음

- **ETag와 If-None-Match**: 서버는 ETag를 사용하여 리소스의 특정 버전을 식별하고, 클라이언트가 `If-None-Match` 헤더를 통해 요청 시 ETag를 보내 변경 여부를 확인할 수 있습니다.

## 캐시 무효화(Cache Invalidation)
캐시된 데이터가 오래되었거나 잘못된 경우, 이를 무효화하는 과정이 필요합니다. 캐시 무효화는 데이터를 최신 상태로 유지하기 위해 필수적입니다.

- **버전 번호 추가**: 파일 이름에 버전 번호를 추가하여 파일이 변경될 때마다 새로운 버전으로 인식되도록 합니다. 예: `style.v1.css` → `style.v2.css`
- **ETag 헤더 사용**: 파일의 내용이 변경될 때마다 새로운 ETag를 생성하여, 클라이언트가 최신 파일을 가져오도록 합니다.
- **Cache-Control 헤더 수정**: 특정 시점 이후 캐시된 리소스가 만료되도록 `max-age`나 `no-cache` 디렉티브를 사용하여 설정합니다.

## 실전 캐시 활용 팁
1. **정적 자산에 긴 캐시 수명 설정**: CSS, JavaScript, 이미지와 같은 정적 자산은 자주 변경되지 않으므로, 긴 캐시 수명을 설정하고, 버전 번호를 사용하여 무효화를 관리합니다.
2. **API 응답에 ETag 사용**: 서버 API 응답에 ETag를 사용하여 데이터가 변경되었을 때만 새로운 데이터를 전송하도록 합니다.
3. **서비스 워커를 사용한 오프라인 지원**: 네트워크 상태에 관계없이 애플리케이션이 동작할 수 있도록 서비스 워커를 통해 리소스를 캐싱합니다.
4. **Lazy loading 및 Prefetching**: 필요할 때만 리소스를 로드하고, 미리 필요한 리소스를 캐시에 로드하여 사용자 경험을 향상시킵니다.

## 결론
캐시는 웹 애플리케이션의 성능과 사용자 경험을 향상시키는 데 중요한 역할을 합니다. 프론트엔드 개발자는 브라우저 캐시, 서비스 워커, HTTP 캐시 제어 헤더를 적절히 활용하여 빠르고 효율적인 애플리케이션을 제공할 수 있습니다. 캐시 전략을 잘 이해하고 적용함으로써, 사용자에게 보다 나은 경험을 제공할 수 있습니다.